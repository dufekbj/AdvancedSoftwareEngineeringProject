EvoBug progress and next steps

Timeline
- Defined common problem wrappers (INPUT_SPEC, target_function, random_input, BASE_TESTS) for two_sum, reverse_string,
  rotated_sort, roman_to_int, supersequence, and later duplicate_digits.
- Built GA loop with spec-aware crossover/mutation; captured per-generation histories.
- Integrated MutPy as primary scorer with lightweight fallback (`EVOBUG_MUTPY=0`) for speed.
- Added deterministic BASE_TESTS per problem to strengthen coverage and reproducibility.
- Implemented experiments runner to sweep problems, emit JSON summaries, and support GA vs random plotting.
- Added smoke test for GA pipeline wiring; ran fast-mode experiments and saved interim summaries/plots.
- MutPy troubleshooting (macOS/Python 3.10):
  - Symptom: all mutants survived; PyYAML 3.11 raised `collections.Hashable` errors; process runner lost injected mutants.
  - Fixes: upgrade PyYAML (`PyYAML>=6.0.0`), patch `mutpy/utils.py` to use `MutationTestRunnerThread` and `is_alive()`.
  - Result: MutPy runs now kill mutants (e.g., two_sum 100% score) without fallback.
- Rebuilt unittest suites for all problems under `tests/` and added `tests/__init__.py`; `python3 -m unittest discover`
  passes.
- Documented the MutPy patch steps in README.
- Experiment runner updates:
  - Each experiment run now creates a timestamped results folder under `experiments/results/` and records seeds in `seeds_used.txt`.
  - Base seed chosen per run; GA runs and random baselines each use their own seeds to allow variation while preserving reproducibility.
  - Plot utilities (`viz/plots.py`) extended to aggregate across runs (collect summaries, plot scores over runs, overlay fitness histories).

Latest observations (2025-12-09)
- Fitness curves are flat and equal to the random baseline (reverse_string ~0.33, two_sum ~0.54, rotated_sort ~0.45): no run improves beyond generation 0. The BASE_TESTS are always included in scoring, so a single GA-generated input rarely changes the kill rate when BASE_TESTS already kill most mutants; deduping also drops any GA input identical to an existing base case.
- Each individual encodes only one test input, further limiting incremental kills; mutation for strings stays in lowercase, narrowing the search space vs the punctuation/uppercase/whitespace mutants that survive.
- Low budgets (pop 20, gens 10) and a high fallback on MutPy producing small mutant sets leave little gradient. To raise the ceiling: temporarily score without BASE_TESTS or down-weight them, let individuals represent small suites, broaden mutation alphabets (uppercase/punct/whitespace), and increase population/generations if time permits.


What’s still left
- Run “real” experiments with MutPy enabled (unset `EVOBUG_MUTPY`), larger population/generations if time allows.
- Regenerate summaries in `experiments/results/` and plots in `experiments/results/plots/` (GA vs random, per-problem fitness).
- Tune GA parameters based on real runs; rerun targeted problems and update plots/tables.
- Write the final report (methodology, GA settings, mutation tool details, runtime caveats, results with plots/tables).
- Optional hardening: CI/lint/type checks, more BASE_TESTS if needed.

Function flow (high level)
- Entry point: `main.py`
  - Parses `--mode` (`single-ga`, `single-random`, `all-experiments`) and `--problem` when required.
  - Dispatches to GA (`ga.engine.run_ga_for_problem`), random baseline (`baselines.random_testing.run_random_baseline`), or
    experiment runner (`experiments.run_experiments.run_all_experiments`).
- GA path (`ga.engine.run_ga_for_problem`)
  - Imports problem module (must expose INPUT_SPEC, target_function, random_input, decode_individual, BASE_TESTS).
  - Initializes population via `ga.representation.population_init`.
  - Evaluates fitness via `ga.evaluation.evaluate_population`, which calls `mutation.mutpy_runner.run_mutation_tests`.
  - Evolves over generations with `ga.operators.tournament_selection`, `crossover`, and `mutate` (spec-aware), tracking best
    and average fitness histories.
  - Returns best individual/fitness and histories.
- Random baseline (`baselines.random_testing.run_random_baseline`)
  - Generates random inputs with the problem’s `random_input`, then calls `run_mutation_tests`.
- Mutation scoring (`mutation.mutpy_runner.run_mutation_tests`)
  - Builds a temp unittest module combining incoming inputs + BASE_TESTS.
  - Runs MutPy (patched for Python 3.14) to score mutants; on failure/timeout or `EVOBUG_MUTPY=0`, uses the lightweight
    fallback mutator.
  - Returns mutation_score/killed/total.
- Experiments (`experiments.run_experiments.run_all_experiments`)
  - Iterates configured problems, runs GA multiple times and the random baseline once, aggregates stats and histories.
  - Writes JSON summaries to `experiments/results/`.
  - Plots can be generated from summaries via `viz.plots` (GA vs random bars, per-run/generation fitness).
